(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8b24":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("loginForm")},s=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.varsFromWordpress.divSize?e.varsFromWordpress.divSize:"q-pa-xl"},[r("q-stepper",{ref:"stepper",attrs:{color:"primary",animated:"","done-color":"green","header-nagivation":!1,"no-header-navigation":""},scopedSlots:e._u([{key:"navigation",fn:function(){return[r("q-stepper-navigation",[r("div",{staticClass:"row"},[r("div",{staticClass:"col-3",staticStyle:{"min-width":"70px"}},[r("q-btn",{staticStyle:{color:"##0C71C3"},attrs:{color:"primary",label:2===e.step?"Entrar":"Próximo"},on:{click:function(t){return e.nextStep()}}})],1),r("div",{staticClass:"col-6",staticStyle:{"min-width":"10px"}}),1==e.step?r("div",{staticClass:"col-3",staticStyle:{"min-width":"70px"}},[r("q-btn",{staticClass:"col",attrs:{flat:"",color:"primary",label:"Registrar"},on:{click:function(t){return e.redirect_register()}}})],1):e._e(),e.BtnPassword?r("div",{staticClass:"col-3",staticStyle:{"min-width":"70px"}},[r("q-btn",{staticStyle:{color:"#E31E17"},attrs:{flat:"",label:"Esqueceu a senha?"},on:{click:function(t){return e.redirect_password()}}})],1):e._e(),r("div")])])]},proxy:!0}]),model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[r("q-step",{attrs:{name:1,icon:"email",done:e.step>1,title:"email"}},[e.varsFromWordpress.textHeader?r("div",{staticClass:"q-ma-none q-pb-lg"},[r("div",{staticClass:"text-h4 text-weight-thin"},[e._v(e._s(e.varsFromWordpress.textHeader))]),r("hr")]):e._e(),r("q-input",{ref:"email",attrs:{filled:"",autofocus:"",type:"email",label:"Digite o endereço de e-mail cadastrado",rules:[function(e){return""!==e.email||"Digite um e-mail"},function(e){return-1!==e.indexOf("@")||"Digite um e-mail cadastrado"},function(t){return e.errorInput.errorEmail||"Não existe nenhum usuário cadastrado com este e-mail"},function(e){return e.indexOf("@")!==e.length-1||"Digite um e-mail válido"}],"lazy-rules":"ondemand",loading:e.loadingState},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextStep(t))}},model:{value:e.formulario.email,callback:function(t){e.$set(e.formulario,"email",t)},expression:"formulario.email"}})],1),r("q-step",{attrs:{name:2,icon:"password",done:e.step>2,title:"Senha"}},[e.varsFromWordpress.textHeader?r("div",{staticClass:"q-ma-none q-pb-lg"},[r("div",{staticClass:"text-h4 text-weight-thin"},[e._v(e._s(e.varsFromWordpress.textHeader))]),r("hr")]):e._e(),r("q-input",{ref:"senha",attrs:{filled:"",label:"Digite a senha",type:e.isPwd?"password":"text",autocomplete:"off",rules:[function(t){return e.errorInput.errorPassword||"Digite sua senha de acesso"},e.checkButton],loading:e.loadingState,"lazy-rules":"ondemand"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.nextStep(t))}},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.formulario.senha,callback:function(t){e.$set(e.formulario,"senha",t)},expression:"formulario.senha"}})],1)],1)],1)},o=[],n=(r("e6cf"),r("758b")),l=login_whmcs_content,d=login_whmcs_size,c={data(){return{step:1,loadingState:!1,isPwd:!0,urls:"",BtnPassword:!1,formulario:{senha:"",email:"",idCliente:"",passwordhash:""},errorInput:{errorEmail:!0,errorPassword:!0},varsFromWordpress:{textHeader:l,divSize:d}}},methods:{async login(){this.$refs.senha.validate(),this.$refs.senha.hasError||""===this.formulario.senha?(this.errorInput.errorPassword=!1,this.$refs.senha.validate(),this.errorInput.errorPassword=!0,this.BtnPassword=!0):(this.loadingState=!0,n["a"].post("",{action:"ValidateLogin",email:this.formulario.email,senha:this.formulario.senha}).then((e=>{"success"===e.data.result?(this.url=e.data.redirect_url,window.location.href=this.url,this.loadingState=!1):"password"===e.data.result&&(this.BtnPassword=!0,this.loadingState=!1,this.errorInput.errorPassword=!1,this.$refs.senha.validate(),this.errorInput.errorPassword=!0)})).catch((e=>{this.loadingState=!1,console.log(e)})))},nextStep(){1===this.step?(this.$refs.email.validate(),this.$refs.email.hasError||""===this.formulario.email?(this.$refs.email.validate(),this.$refs.email.focus()):this.checkEmail()):this.login()},async checkEmail(){this.loadingState=!0,n["a"].post("",{action:"checkEmail",email:this.formulario.email}).then((e=>{"success"===e.data.result?(this.$refs.email.validate(),this.$refs.stepper.next(),setTimeout((()=>{this.$refs.senha.focus()}),200)):"notin"===e.data.result&&(this.errorInput.errorEmail=!1,this.$refs.email.validate(),this.errorInput.errorEmail=!0),this.loadingState=!1})).catch((e=>{this.loadingState=!1,console.log(e)}))},redirect_password(){n["a"].post("",{action:"url_redirect"}).then((e=>{this.urls=e.data,window.location.href=this.urls.password}))},redirect_register(){n["a"].post("",{action:"url_redirect"}).then((e=>{this.urls=e.data,window.location.href=this.urls.register}))}}},u=c,h=r("2877"),p=r("f531"),m=r("87fe"),f=r("27f9"),v=r("0016"),w=r("b19c"),g=r("9c40"),x=r("eebe"),y=r.n(x),S=Object(h["a"])(u,i,o,!1,null,null,null),_=S.exports;y()(S,"components",{QStepper:p["a"],QStep:m["a"],QInput:f["a"],QIcon:v["a"],QStepperNavigation:w["a"],QBtn:g["a"]});var k={components:{loginForm:_},name:"PageIndex",created(){},methods:{myTweak(e){return{minHeight:"10px"}}}},b=k,E=Object(h["a"])(b,a,s,!1,null,null,null);t["default"]=E.exports}}]);
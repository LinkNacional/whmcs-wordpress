(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8b24":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("q-page",{staticClass:"flex flex-center"},[t("formulario")],1)},r=[],s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"q-px-xs"},[e._m(0),t("q-form",{staticClass:"q-gutter-md",on:{submit:function(a){return a.preventDefault(),e.login(a)}}},[t("q-input",{attrs:{filled:"","lazy-rules":"",autofocus:"",type:"email",label:"Seu email",hint:"Insira um email vÃ¡lido"},model:{value:e.formulario.email,callback:function(a){e.$set(e.formulario,"email",a)},expression:"formulario.email"}}),t("q-input",{ref:"senha",attrs:{filled:"","lazy-rules":"",type:e.isPwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(a){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.formulario.senha,callback:function(a){e.$set(e.formulario,"senha",a)},expression:"formulario.senha"}}),t("div",[t("q-btn",{attrs:{label:"Continuar",type:"submit",color:"primary"}}),e._e()],1)],1)],1)},o=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"q-ma-none q-pb-lg"},[t("div",{staticClass:"text-h4 text-weight-thin"},[e._v("Login:")]),t("br")])}],n=(t("e6cf"),t("bc3a")),l=t.n(n);const u=l.a.create({baseURL:"https://dev.linknacional.com.br/api/whmcs/",timeout:9e4});l.a.create({baseURL:"https://cliente.linknacional.com.br/",timeout:9e4}),l.a.create({baseURL:"https://viacep.com.br/ws/",timeout:9e3}),l.a.create({baseURL:"https://whmcs.linknacional.com.br/",timeout:9e4});var c={data(){return{isPwd:!0,formulario:{senha:"",email:"",idCliente:"",passwordhash:""}}},methods:{async getUrl(){return u.post("index.php",{action:"login_direct_user",uid:this.formulario.idCliente}).then((e=>{if("success"===e.data.result)return this.url=e.data.redirect_url,window.location.href=this.url,!0})),!1},async login(){this.$refs.senha.validate(),console.log(this.$refs.senha.hasError),""===this.formulario.email?this.mostrarMensagem("Para continuar, por favor informe um email."):this.$refs.senha.hasError||""===this.formulario.senha?this.mostrarMensagem("Para continuar, por favor informe uma senha."):u.post("index.php",{action:"login",email:this.formulario.email,senha:this.formulario.senha}).then((e=>{"success"===e.data.result?(this.formulario.idCliente=e.data.userid,this.formulario.passwordhash=e.data.passwordhash,this.getUrl()):"notin"===e.data.result&&(this.formulario.senha=null,this.$emit("continuar",this.formulario))})).catch((e=>{console.log("Error "+e.message)}))},mostrarMensagem(e){this.$q.notify({progress:!0,message:e,color:"primary",multiLine:!0,actions:[{label:"Entendi",color:"yellow",handler:()=>{}}]})},name:"formulario"}},m=c,h=t("2877"),f=t("0378"),d=t("27f9"),p=t("0016"),b=t("9c40"),g=t("eebe"),v=t.n(g),w=Object(h["a"])(m,s,o,!1,null,null,null),x=w.exports;v()(w,"components",{QForm:f["a"],QInput:d["a"],QIcon:p["a"],QBtn:b["a"]});var y={components:{formulario:x},name:"PageIndex",plano:null,created(){},methods:{onUpdateTextColor(){this.$on("continue",(e=>{console.log(e)}))}}},_=y,q=t("9989"),C=Object(h["a"])(_,i,r,!1,null,null,null);a["default"]=C.exports;v()(C,"components",{QPage:q["a"]})}}]);
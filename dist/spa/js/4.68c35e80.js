(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8b24":function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("q-page",{staticClass:"flex flex-center"},[s("steps")],1)},r=[],o=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"q-pa-md"},[s("q-form",{staticClass:"q-gutter-md"},[s("q-stepper",{ref:"stepper",attrs:{"header-nav":"",color:"primary",animated:""},scopedSlots:e._u([{key:"navigation",fn:function(){return[s("q-stepper-navigation",[s("q-btn",{attrs:{color:"primary",label:2===e.step?"Finish":"Continue"},on:{click:function(a){2!==e.step?e.$refs.stepper.next():e.login()}}}),e.step>1?s("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(a){return e.$refs.stepper.previous()}}}):e._e()],1)]},proxy:!0}]),model:{value:e.step,callback:function(a){e.step=a},expression:"step"}},[s("q-step",{attrs:{name:1,title:"Email",icon:"email",done:e.step>1,"header-nav":e.step>1}},[s("q-input",{attrs:{filled:"","lazy-rules":"",autofocus:"",type:"email",label:"Seu email",hint:"Insira um email vÃ¡lido"},model:{value:e.formulario.email,callback:function(a){e.$set(e.formulario,"email",a)},expression:"formulario.email"}})],1),s("q-step",{attrs:{name:2,title:"Senha",icon:"password"}},[s("q-input",{ref:"senha",attrs:{filled:"","lazy-rules":"",label:"Sua senha",type:e.isPwd?"password":"text"},scopedSlots:e._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(a){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.formulario.senha,callback:function(a){e.$set(e.formulario,"senha",a)},expression:"formulario.senha"}})],1)],1)],1)],1)},i=[],n=(s("e6cf"),s("758b")),l={data(){return{step:1,isPwd:!0,formulario:{senha:"",email:"",idCliente:"",passwordhash:""}}},methods:{async getUrl(){return n["a"].post("index.php",{action:"login_direct_user",uid:this.formulario.idCliente}).then((e=>{if("success"===e.data.result)return this.url=e.data.redirect_url,window.location.href=this.url,!0;console.log("Erro nos dados informados")})),!1},async login(){""===this.formulario.email?this.mostrarMensagem("Para continuar, por favor informe um email."):this.$refs.senha.hasError||""===this.formulario.senha?this.mostrarMensagem("Para continuar, por favor informe uma senha."):(console.log({action:"login",email:this.formulario.email,senha:this.formulario.senha}),n["a"].post("index.php",{action:"login",email:this.formulario.email,senha:this.formulario.senha}).then((e=>{console.log(e),"success"===e.data.result?(this.formulario.idCliente=e.data.userid,this.formulario.passwordhash=e.data.passwordhash,this.getUrl()):"Email or Password Invalid"===e.data.message&&this.mostrarMensagem("Email ou Senha Invalido")})).catch((e=>{console.log(e)})))},mostrarMensagem(e){this.$q.notify({progress:!0,message:e,color:"primary",multiLine:!0,actions:[{label:"Entendi",color:"yellow",handler:()=>{}}]})}}},c=l,u=s("2877"),m=s("0378"),p=s("f531"),d=s("87fe"),f=s("27f9"),h=s("0016"),g=s("b19c"),v=s("9c40"),b=s("eebe"),w=s.n(b),y=Object(u["a"])(c,o,i,!1,null,null,null),q=y.exports;w()(y,"components",{QForm:m["a"],QStepper:p["a"],QStep:d["a"],QInput:f["a"],QIcon:h["a"],QStepperNavigation:g["a"],QBtn:v["a"]});var x={components:{steps:q},name:"PageIndex",created(){},methods:{}},k=x,_=s("9989"),P=Object(u["a"])(k,t,r,!1,null,null,null);a["default"]=P.exports;w()(P,"components",{QPage:_["a"]})}}]);
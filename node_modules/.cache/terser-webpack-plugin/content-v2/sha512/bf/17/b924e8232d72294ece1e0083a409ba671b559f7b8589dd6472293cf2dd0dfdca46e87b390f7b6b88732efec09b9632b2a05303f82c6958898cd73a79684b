{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[4],{\"8b24\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"q-page\",{},[a(\"loginForm\")],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"q-pa-xl\"},[a(\"q-stepper\",{ref:\"stepper\",attrs:{color:\"primary\",animated:\"\",\"done-color\":\"green\",\"header-nagivation\":!1,\"no-header-navigation\":\"\"},scopedSlots:e._u([{key:\"navigation\",fn:function(){return[a(\"q-stepper-navigation\",[a(\"q-btn\",{staticStyle:{color:\"##0C71C3\"},attrs:{color:\"primary\",label:2===e.step?\"Entrar\":\"Próximo\"},on:{click:function(t){return e.nextStep()}}}),e.step>1?a(\"q-btn\",{staticClass:\"q-ml-sm\",staticStyle:{color:\"##0C71C3\"},attrs:{flat:\"\",label:\"Voltar\"},on:{click:function(t){return e.$refs.stepper.previous()}}}):e._e(),a(\"q-btn\",{staticClass:\"q-ml-sm float-right\",attrs:{flat:\"\",color:\"primary\",label:\"Registrar\"},on:{click:function(t){return e.redirect_register()}}}),a(\"q-btn\",{staticClass:\"q-ml-sm float-right\",staticStyle:{color:\"#E31E17\"},attrs:{flat:\"\",label:\"Esqueceu a senha?\"},on:{click:function(t){return e.redirect_password()}}})],1)]},proxy:!0}]),model:{value:e.step,callback:function(t){e.step=t},expression:\"step\"}},[a(\"q-step\",{attrs:{name:1,icon:\"email\",done:e.step>1,title:\"email\"}},[a(\"div\",{staticClass:\"q-ma-none q-pb-lg\"},[a(\"div\",{staticClass:\"text-h4 text-weight-thin\"},[e._v(\"Login área do cliente\")]),a(\"hr\")]),a(\"q-input\",{ref:\"email\",attrs:{filled:\"\",autofocus:\"\",type:\"email\",label:\"Digite o endereço de e-mail cadastrado\",rules:[function(e){return\"\"!==e.email||\"Digite um e-mail\"},function(e){return-1!==e.indexOf(\"@\")||\"Digite um e-mail cadastrado\"},function(t){return e.errorInput.errorEmail||\"Não existe nenhum usuário cadastrado com este e-mail\"},function(e){return e.indexOf(\"@\")!==e.length-1||\"Digite um e-mail válido\"}],\"lazy-rules\":\"ondemand\",loading:e.loadingState},on:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:(t.preventDefault(),e.nextStep(t))}},model:{value:e.formulario.email,callback:function(t){e.$set(e.formulario,\"email\",t)},expression:\"formulario.email\"}})],1),a(\"q-step\",{attrs:{name:2,icon:\"password\",done:e.step>2,title:\"Senha\"}},[a(\"div\",{staticClass:\"q-ma-none q-pb-lg\"},[a(\"div\",{staticClass:\"text-h4 text-weight-thin\"},[e._v(\"Login\")]),a(\"hr\")]),a(\"q-input\",{ref:\"senha\",attrs:{filled:\"\",label:\"Digite a senha\",type:e.isPwd?\"password\":\"text\",autocomplete:\"off\",rules:[function(t){return e.errorInput.errorPassword||\"Digite sua senha de acesso\"}],loading:e.loadingState,\"lazy-rules\":\"ondemand\"},on:{keydown:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:(t.preventDefault(),e.nextStep(t))}},scopedSlots:e._u([{key:\"append\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:e.isPwd?\"visibility_off\":\"visibility\"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.formulario.senha,callback:function(t){e.$set(e.formulario,\"senha\",t)},expression:\"formulario.senha\"}})],1)],1)],1)},n=[],o=(a(\"e6cf\"),a(\"758b\")),l={data(){return{step:1,loadingState:!1,isPwd:!0,urls:\"\",formulario:{senha:\"\",email:\"\",idCliente:\"\",passwordhash:\"\"},errorInput:{errorEmail:!0,errorPassword:!0}}},mounted:function(){},methods:{async login(){this.$refs.senha.validate(),this.$refs.senha.hasError||\"\"===this.formulario.senha?(this.errorInput.errorPassword=!1,this.$refs.senha.validate(),this.errorInput.errorPassword=!0):(this.loadingState=!0,o[\"a\"].post(\"\",{action:\"ValidateLogin\",email:this.formulario.email,senha:this.formulario.senha}).then((e=>{\"success\"===e.data.result?(this.url=e.data.redirect_url,window.location.href=this.url,this.loadingState=!1):\"password\"===e.data.result&&(this.loadingState=!1,this.errorInput.errorPassword=!1,this.$refs.senha.validate(),this.errorInput.errorPassword=!0)})).catch((e=>{this.loadingState=!1,console.log(e)})))},nextStep(){1===this.step?(this.$refs.email.validate(),this.$refs.email.hasError||\"\"===this.formulario.email?(this.$refs.email.validate(),this.$refs.email.focus()):this.checkEmail()):this.login()},async checkEmail(){this.loadingState=!0,o[\"a\"].post(\"\",{action:\"checkEmail\",email:this.formulario.email}).then((e=>{\"success\"===e.data.result?(this.$refs.email.validate(),this.$refs.stepper.next(),setTimeout((()=>{this.$refs.senha.focus()}),200)):\"notin\"===e.data.result&&(this.errorInput.errorEmail=!1,this.$refs.email.validate(),this.errorInput.errorEmail=!0),this.loadingState=!1})).catch((e=>{this.loadingState=!1,console.log(e)}))},redirect_password(){o[\"a\"].post(\"\",{action:\"url_redirect\"}).then((e=>{this.urls=e.data,window.location.href=this.urls.password}))},redirect_register(){o[\"a\"].post(\"\",{action:\"url_redirect\"}).then((e=>{this.urls=e.data,window.location.href=this.urls.register}))}}},c=l,u=a(\"2877\"),d=a(\"f531\"),h=a(\"87fe\"),p=a(\"27f9\"),m=a(\"0016\"),f=a(\"b19c\"),g=a(\"9c40\"),w=a(\"eebe\"),v=a.n(w),y=Object(u[\"a\"])(c,s,n,!1,null,null,null),b=y.exports;v()(y,\"components\",{QStepper:d[\"a\"],QStep:h[\"a\"],QInput:p[\"a\"],QIcon:m[\"a\"],QStepperNavigation:f[\"a\"],QBtn:g[\"a\"]});var k={components:{loginForm:b},name:\"PageIndex\",created(){},methods:{}},x=k,S=a(\"9989\"),q=Object(u[\"a\"])(x,r,i,!1,null,null,null);t[\"default\"]=q.exports;v()(q,\"components\",{QPage:S[\"a\"]})}}]);","name":"js/4.e63ad394.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[4],{\n\n/***/ \"8b24\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/Index.vue?vue&type=template&id=c4947dc4&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{},[_c('loginForm')],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/Index.vue?vue&type=template&id=c4947dc4&\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/loginForm.vue?vue&type=template&id=32dfb475&\nvar loginFormvue_type_template_id_32dfb475_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-xl\"},[_c('q-stepper',{ref:\"stepper\",attrs:{\"color\":\"primary\",\"animated\":\"\",\"done-color\":\"green\",\"header-nagivation\":false,\"no-header-navigation\":\"\"},scopedSlots:_vm._u([{key:\"navigation\",fn:function(){return [_c('q-stepper-navigation',[_c('q-btn',{staticStyle:{\"color\":\"##0C71C3\"},attrs:{\"color\":\"primary\",\"label\":_vm.step === 2 ? 'Entrar' : 'Próximo'},on:{\"click\":function($event){return _vm.nextStep()}}}),(_vm.step > 1)?_c('q-btn',{staticClass:\"q-ml-sm\",staticStyle:{\"color\":\"##0C71C3\"},attrs:{\"flat\":\"\",\"label\":\"Voltar\"},on:{\"click\":function($event){return _vm.$refs.stepper.previous()}}}):_vm._e(),_c('q-btn',{staticClass:\"q-ml-sm float-right\",attrs:{\"flat\":\"\",\"color\":\"primary\",\"label\":\"Registrar\"},on:{\"click\":function($event){return _vm.redirect_register()}}}),_c('q-btn',{staticClass:\"q-ml-sm float-right\",staticStyle:{\"color\":\"#E31E17\"},attrs:{\"flat\":\"\",\"label\":\"Esqueceu a senha?\"},on:{\"click\":function($event){return _vm.redirect_password()}}})],1)]},proxy:true}]),model:{value:(_vm.step),callback:function ($$v) {_vm.step=$$v},expression:\"step\"}},[_c('q-step',{attrs:{\"name\":1,\"icon\":\"email\",\"done\":_vm.step > 1,\"title\":\"email\"}},[_c('div',{staticClass:\"q-ma-none q-pb-lg\"},[_c('div',{staticClass:\"text-h4 text-weight-thin\"},[_vm._v(\"Login área do cliente\")]),_c('hr')]),_c('q-input',{ref:\"email\",attrs:{\"filled\":\"\",\"autofocus\":\"\",\"type\":\"email\",\"label\":\"Digite o endereço de e-mail cadastrado\",\"rules\":[ function (val) { return val.email !== '' || 'Digite um e-mail'; },\n      function (val) { return val.indexOf('@') !== -1 || 'Digite um e-mail cadastrado'; },\n      function (val) { return _vm.errorInput.errorEmail || 'Não existe nenhum usuário cadastrado com este e-mail'; },\n      function (val) { return val.indexOf('@') !== val.length - 1 || 'Digite um e-mail válido'; }],\"lazy-rules\":\"ondemand\",\"loading\":_vm.loadingState},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.nextStep($event)}},model:{value:(_vm.formulario.email),callback:function ($$v) {_vm.$set(_vm.formulario, \"email\", $$v)},expression:\"formulario.email\"}})],1),_c('q-step',{attrs:{\"name\":2,\"icon\":\"password\",\"done\":_vm.step > 2,\"title\":\"Senha\"}},[_c('div',{staticClass:\"q-ma-none q-pb-lg\"},[_c('div',{staticClass:\"text-h4 text-weight-thin\"},[_vm._v(\"Login\")]),_c('hr')]),_c('q-input',{ref:\"senha\",attrs:{\"filled\":\"\",\"label\":\"Digite a senha\",\"type\":_vm.isPwd ? 'password' : 'text',\"autocomplete\":\"off\",\"rules\":[ function (val) { return _vm.errorInput.errorPassword || 'Digite sua senha de acesso'; }],\"loading\":_vm.loadingState,\"lazy-rules\":\"ondemand\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }$event.preventDefault();return _vm.nextStep($event)}},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":_vm.isPwd ? 'visibility_off' : 'visibility'},on:{\"click\":function($event){_vm.isPwd = !_vm.isPwd}}})]},proxy:true}]),model:{value:(_vm.formulario.senha),callback:function ($$v) {_vm.$set(_vm.formulario, \"senha\", $$v)},expression:\"formulario.senha\"}})],1)],1)],1)}\nvar loginFormvue_type_template_id_32dfb475_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/loginForm.vue?vue&type=template&id=32dfb475&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.promise.js\nvar es_promise = __webpack_require__(\"e6cf\");\n\n// EXTERNAL MODULE: ./src/boot/axios.js\nvar axios = __webpack_require__(\"758b\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/components/loginForm.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var loginFormvue_type_script_lang_js_ = ({\n  data() {\n    return {\n      step: 1,\n      loadingState: false,\n      isPwd: true,\n      urls: '',\n      formulario: {\n        senha: '',\n        email: '',\n        idCliente: '',\n        passwordhash: ''\n      },\n      errorInput: {\n        errorEmail: true,\n        errorPassword: true\n      }\n    };\n  },\n\n  mounted: function () {},\n  methods: {\n    async login() {\n      this.$refs.senha.validate();\n\n      if (this.$refs.senha.hasError || this.formulario.senha === '') {\n        this.errorInput.errorPassword = false;\n        this.$refs.senha.validate();\n        this.errorInput.errorPassword = true; // this.mostrarMensagem('Para continuar, por favor informe uma senha.')\n      } else {\n        this.loadingState = true;\n        axios[\"a\" /* axiosInstance */].post('', {\n          action: 'ValidateLogin',\n          email: this.formulario.email,\n          senha: this.formulario.senha\n        }).then(response => {\n          if (response.data.result === 'success') {\n            this.url = response.data.redirect_url;\n            window.location.href = this.url;\n            this.loadingState = false;\n          } else if (response.data.result === 'password') {\n            this.loadingState = false;\n            this.errorInput.errorPassword = false;\n            this.$refs.senha.validate();\n            this.errorInput.errorPassword = true; // this.mostrarMensagem('senha inválida')\n          }\n        }).catch(error => {\n          this.loadingState = false;\n          console.log(error);\n        });\n      }\n    },\n\n    nextStep() {\n      if (this.step === 1) {\n        this.$refs.email.validate();\n\n        if (this.$refs.email.hasError || this.formulario.email === '') {\n          this.$refs.email.validate(); // this.mostrarMensagem('Para continuar, por favor informe um email válido.')\n\n          this.$refs.email.focus();\n        } else {\n          this.checkEmail();\n        }\n      } else {\n        this.login();\n      }\n    },\n\n    async checkEmail() {\n      this.loadingState = true;\n      axios[\"a\" /* axiosInstance */].post('', {\n        action: 'checkEmail',\n        email: this.formulario.email\n      }).then(response => {\n        if (response.data.result === 'success') {\n          this.$refs.email.validate();\n          this.$refs.stepper.next();\n          setTimeout(() => {\n            this.$refs.senha.focus();\n          }, 200);\n        } else if (response.data.result === 'notin') {\n          this.errorInput.errorEmail = false;\n          this.$refs.email.validate();\n          this.errorInput.errorEmail = true;\n        }\n\n        this.loadingState = false;\n      }).catch(error => {\n        this.loadingState = false;\n        console.log(error);\n      });\n    },\n\n    // mostrarMensagem (msg) {\n    //   this.$q.notify({\n    //     progress: true,\n    //     message: msg,\n    //     color: 'primary',\n    //     multiLine: true,\n    //     actions: [\n    //       { label: 'Entendi', color: 'yellow', handler: () => { /* ... */ } }\n    //     ]\n    //   })\n    // },\n    redirect_password() {\n      axios[\"a\" /* axiosInstance */].post('', {\n        action: 'url_redirect'\n      }).then(response => {\n        this.urls = response.data;\n        window.location.href = this.urls.password;\n      });\n    },\n\n    redirect_register() {\n      axios[\"a\" /* axiosInstance */].post('', {\n        action: 'url_redirect'\n      }).then(response => {\n        this.urls = response.data;\n        window.location.href = this.urls.register;\n      });\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./src/components/loginForm.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_loginFormvue_type_script_lang_js_ = (loginFormvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/stepper/QStepper.js\nvar QStepper = __webpack_require__(\"f531\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/stepper/QStep.js + 1 modules\nvar QStep = __webpack_require__(\"87fe\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 8 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js + 1 modules\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/stepper/QStepperNavigation.js\nvar QStepperNavigation = __webpack_require__(\"b19c\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js + 3 modules\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/components/loginForm.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  components_loginFormvue_type_script_lang_js_,\n  loginFormvue_type_template_id_32dfb475_render,\n  loginFormvue_type_template_id_32dfb475_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var loginForm = (component.exports);\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QStepper: QStepper[\"a\" /* default */],QStep: QStep[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QStepperNavigation: QStepperNavigation[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/Index.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var Indexvue_type_script_lang_js_ = ({\n  components: {\n    loginForm: loginForm\n  },\n  name: 'PageIndex',\n\n  created() {},\n\n  methods: {}\n});\n// CONCATENATED MODULE: ./src/pages/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var pages_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page/QPage.js\nvar QPage = __webpack_require__(\"9989\");\n\n// CONCATENATED MODULE: ./src/pages/Index.vue\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  pages_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n\nruntime_auto_import_default()(Index_component, 'components', {QPage: QPage[\"a\" /* default */]});\n\n\n/***/ })\n\n}]);","inputSourceMap":null}